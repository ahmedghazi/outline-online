<!DOCTYPE html>
<html>

<head>
  <title>Templates</title>
</head>

<body>
  <div id="snipcart-templates">

    <billing section="bottom">
      <fieldset class="snipcart-form__set">
        <div class="snipcart-form__field">
          <snipcart-label class="snipcart__font--tiny" for="licensefor">
            Licensee Name
          </snipcart-label>
          <snipcart-input name="licensefor"></snipcart-input>
        </div>
        <div class="snipcart-form__field">
          <snipcart-label class="snipcart__font--tiny" for="websiteUrl">
            Licensee Website
          </snipcart-label>
          <snipcart-input name="websiteUrl"></snipcart-input>
        </div>
      </fieldset>
    </billing>

    <cart v-if="hasItems">
      <section class="snipcart-cart__content">
        <div class="px-sm ">
          <div class="grid md:grid-cols-16 b-t b-b">
            <div class="title py-05e">ITEMS</div>

            <item-list item-template="item-line" class="snipcart-item-list--no-shadow md:col-span-15"
              :show-description="!isSideCart">
              <template v-slot:footer v-if="isSideCart && hasActiveDiscountsTriggerableByCode">
                <li class="snipcart-item-line snipcart-item-line--cart-edit">
                  <div class="snipcart-item-line__container">
                    <discount-box class="snipcart-cart__discount-box"></discount-box>
                  </div>
                </li>
              </template>
            </item-list>
          </div>
        </div>
        <div class="snipcart-cart__footer">
          <div class="snipcart-cart__footer-col cart__footer-discount-box snipcart-cart__actions">
            <discount-box v-if="!isSideCart && hasActiveDiscountsTriggerableByCode"
              class="snipcart-cart__discount-box"></discount-box>
          </div>

          <div class="snipcart-cart__footer-col">
            <div class="px-sm">
              <div class="grid grid-cols-8 md:grid-cols-16 b-t b-b">
                <div class="title py-05e v-hidden">TOTAL</div>
                <summary-fees class="snipcart-cart-summary-fees--reverse" :summary-data="summaryFeesProvider">
                  {{ $localize('cart.shipping_taxes_calculated_at_checkout')}}
                </summary-fees>
              </div>
            </div>

            <footer v-if="!editingCart || isSideCart" class="snipcart-cart__footer-buttons">
              <flash-message type="error" v-if="errors != null"
                :title="$localize('errors.order_validation.custom_fields_validation.title')">
                {{$localize('errors.order_validation.custom_fields_validation.description')}}
              </flash-message>
              <button-primary label="actions.checkout" icon="continue-arrow-"
                :state="checkoutDisabled ? 'disabled' : undefined" @click="checkout"></button-primary>
              <button-link v-if="isSideCart" label="cart.view_detailed_cart" @click="viewDetailedCart"></button-link>
              <featured-payment-methods v-if="!editingCart"></featured-payment-methods>
            </footer>
          </div>
        </div>
      </section>
    </cart>

    <item-line>
      <li :class="{'snipcart-item-line': true, 'snipcart-item-line--cart-edit': editingCart}">
        <flash-message type="info" icon="box" v-if="stockLimitReached"
          :title="$localize('errors.quantity_revised')"></flash-message>
        <flash-message type="error" icon="box" v-if="outOfStock"
          :title="$localize('errors.quantity_out_of_stock')"></flash-message>
        <div class="snipcart-item-line__container">
          <figure class="snipcart-item-line__media" v-if="showLargeImage">
            <item-image class="snipcart-item-line__image"></item-image>
          </figure>
          <div class="snipcart-item-line__product">
            <div class="snipcart-item-line__header">
              <figure class="snipcart-item-line__media snipcart-item-line__media--small" v-if="showSmallImage">
                <item-image class="snipcart-item-line__image"></item-image>
              </figure>
              <div class="product-title">
                <h2
                  class="snipcart-item-line__title snipcart__font--xlarge snipcart__font--secondary snipcart__font--black">
                  {{ item.name }}
                </h2>
                <div class="snipcart-item-line__info">
                  <item-description v-if="showDescription"></item-description>
                </div>
              </div>
              <button-icon icon="cross" label="item.remove_item" styling="danger" @click="removeItem"></button-icon>

            </div>

            <div class="snipcart-item-line__content">
              <div class="snipcart-item-line__body">

                <item-custom-fields v-if="!adding"></item-custom-fields>
              </div>
            </div>
            <div class="snipcart-item-line__price">
              <div class="flex flex-row-reverse gap-sm">

                <item-price :item="item" :selected-plan="selectedPlan" class="snipcart__font--xlarge">
                </item-price>
              </div>
            </div>
          </div>
        </div>
      </li>
    </item-line>

    <cart-summary>
      <div class="snipcart-cart-summary">
        <section class="snipcart-cart-summary__content">
          <div class="snipcart-cart-summary__actions snipcart__box--header">
            <h1 class="snipcart-cart-summary__title snipcart__font--subtitle">{{ $localize('cart.summary') }}</h1>
            <button type="button" class="outline ml-sm" onclick="history.back()">Edit</button>
          </div>

          <overridable name="cart-summary" section="items">
            <item-list item-template="cart-summary-expanded-item"></item-list>
          </overridable>

          <hr class="snipcart-cart-summary__separator" />

          <loading-overlay>
            <div class="snipcart-cart-summary__totals">
              <summary-fees :summary-data="summaryFeesProvider"></summary-fees>
            </div>
          </loading-overlay>
        </section>
      </div>
    </cart-summary>

    <cart-summary-expanded-item>
      <div class="snipcart-summary-item-list-custom">
        <div class="snipcart-summary-item-name">{{ item.name }}</div>
        <div class="snipcart-summary-item-license">
          <template v-for="(customField, i) in visibleCustomFields" :key="i">
            <template v-if="customField.value === true">
              <span>{{ customField.name }}</span>
            </template>
          </template>
        </div>
        <template v-for="(customField, i) in visibleCustomFields" :key="i">
          <div v-if="customField.name === 'Company Size'" class="snipcart-summary-itemcompany-size">
            Up to {{ customField.value }} employees
          </div>
        </template>
        <div class="snipcart-summary-item-price">{{ item.unitPrice | money(cart.currency) }}</div>
      </div>
    </cart-summary-expanded-item>




  </div>
</body>

</html>